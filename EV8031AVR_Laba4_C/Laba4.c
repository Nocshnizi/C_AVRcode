#define F_CPU 7372800L //??????? ??????? ?????? (7,3728 ???)
#include <avr/io.h>
#include <avr/iom8515.h>
#include <util/delay.h>

//??????? ????????? - ?????? ???????? ?????? ? ???
#define lcd_comm 0x8004
//??????? ????????? - ?????? ???????? ????? ? ???
#define lcd_data 0x8005

int main (void) {
//????????? ????????????? ????????????
//?????????? ?????? ?? ?????????? ???'???? (????????? ?? ?????????? ??????????)
	MCUCR = 1 << SRE;
//??????????? ???????? ??????????? ???????????
	ACSR = 1 << ACD;

//???????????? ????????? ?? ?????? ???????? ?????? ???
	volatile unsigned char* c = (unsigned char *) lcd_comm;
//???????????? ????????? ?? ?????? ???????? ????? ???
	volatile unsigned char* d = (unsigned char *) lcd_data;

	_delay_ms (1000); //???????????? ???????? ?? ?????????? ???????? ?? 1 ?

//????????? ????????????? ???
	*c = 0x38; //Function Set
	_delay_ms (10); //?????????? ???????? ?? 10 ??

	*c = 0x0E; //Display ON/OFF Control
	_delay_ms (10); //?????????? ???????? ?? 10 ??

	*c = 0x01; //Display clear
	_delay_ms (10); //?????????? ???????? ?? 10 ??

	*c = 0x06; //Entry Mode Set
	_delay_ms (10); //?????????? ???????? ?? 10 ??

//???????? ?????? (???????) ????? ????????????

	*d = 0x61; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x62; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x63; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x64; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x65; //??? ??????? " "
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x66; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x67; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x68; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x69; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x6A; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x6B; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x6C; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x6D; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x6E; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x6F; //??? ??????? " "
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x71; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x72; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x73; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x74; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x75; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x76; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x77; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x78; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x79; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??

	*d = 0x7A; //??? ??????? "?"
	_delay_ms (200); //?????????? ???????? ?? 200 ??


	while (1) { //???????????? ????
		*c = 0x18; //Display Shift
		_delay_ms (1000); //?????????? ???????? ?? 1 ???????
	}
	return 0;
}

